<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>MyChoice.ai â€” Own Your Family's Digital Vibe</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            teal: {
              500: '#0d9488',
              600: '#0f766e',
              700: '#115e59'
            }
          }
        }
      }
    }
  </script>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap');
    * { font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif; }
    .fade-in { animation: fadeIn 0.6s ease-out forwards; }
    .slide-up { animation: slideUp 0.6s ease-out forwards; }
    @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
    @keyframes slideUp { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
    .delay-100 { animation-delay: 0.1s; }
    .delay-200 { animation-delay: 0.2s; }
    .delay-300 { animation-delay: 0.3s; }
    .delay-400 { animation-delay: 0.4s; }
    .delay-500 { animation-delay: 0.5s; }
    .vibe-good { background: linear-gradient(135deg, #10b981 0%, #059669 100%); }
    .vibe-neutral { background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%); }
    .vibe-attention { background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%); }
  </style>
</head>
<body class="bg-gradient-to-br from-slate-50 to-teal-50/30 min-h-screen">
  <div id="app"></div>

  <script>
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    // MyChoice.ai Interactive Prototype
    // "Mentorship over surveillance. Coaching, not control."
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

    const screens = ['welcome', 'onboarding', 'persona', 'dashboard', 'coach', 'agreement'];
    let currentScreen = 'welcome';
    let familyData = { parentName: '', childName: '', childAge: '' };
    let personaAnswers = [];
    let chatMessages = [];
    let agreementItems = [];

    // â”€â”€â”€ RENDER ENGINE â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    function render() {
      const app = document.getElementById('app');
      app.innerHTML = '';
      
      switch(currentScreen) {
        case 'welcome': renderWelcome(app); break;
        case 'onboarding': renderOnboarding(app); break;
        case 'persona': renderPersona(app); break;
        case 'dashboard': renderDashboard(app); break;
        case 'coach': renderCoach(app); break;
        case 'agreement': renderAgreement(app); break;
      }
    }

    function navigate(screen) {
      currentScreen = screen;
      render();
    }

    // â”€â”€â”€ 1. WELCOME SCREEN â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    function renderWelcome(container) {
      container.innerHTML = `
        <div class="min-h-screen flex flex-col items-center justify-center px-6 text-center">
          <div class="fade-in">
            <!-- Logo -->
            <div class="w-20 h-20 mx-auto mb-8 rounded-2xl bg-gradient-to-br from-teal-500 to-teal-600 flex items-center justify-center shadow-lg shadow-teal-500/20">
              <svg viewBox="0 0 40 40" class="w-10 h-10 text-white" fill="none" stroke="currentColor" stroke-width="2.5">
                <circle cx="20" cy="14" r="6" />
                <path d="M8 34c0-6.627 5.373-12 12-12s12 5.373 12 12" stroke-linecap="round" />
                <path d="M20 20v6m-3-3h6" stroke-linecap="round" />
              </svg>
            </div>

            <h1 class="text-4xl font-bold text-slate-900 tracking-tight mb-2">
              MyChoice<span class="text-teal-500">.ai</span>
            </h1>
            <p class="text-lg text-slate-500 mb-1 font-light">by EgoGentix</p>
            <p class="text-sm text-slate-400 max-w-sm mx-auto mb-10 leading-relaxed">
              Mentorship over surveillance. Coaching, not control.<br />
              Own your family's digital vibe.
            </p>
          </div>

          <div class="slide-up delay-300">
            <button onclick="navigate('onboarding')" class="bg-teal-500 hover:bg-teal-600 text-white px-10 py-4 text-base rounded-full shadow-lg shadow-teal-500/25 transition-all hover:shadow-xl hover:scale-105">
              Start Your Vibe â†’
            </button>

            <div class="mt-8 flex items-center gap-6 justify-center">
              <button class="text-xs text-slate-400 hover:text-teal-500 transition-colors">Sign In</button>
              <span class="w-px h-3 bg-slate-200"></span>
              <button class="text-xs text-slate-400 hover:text-teal-500 transition-colors">Learn More</button>
            </div>
          </div>

          <div class="absolute bottom-8 fade-in delay-500">
            <p class="text-[10px] text-slate-300 tracking-wider uppercase">Interactive Prototype â€¢ Investor Demo</p>
          </div>
        </div>
      `;
    }

    // â”€â”€â”€ 2. ONBOARDING SCREEN â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    function renderOnboarding(container) {
      container.innerHTML = `
        <div class="min-h-screen px-6 py-12 max-w-md mx-auto">
          <button onclick="navigate('welcome')" class="text-teal-500 text-sm mb-8 flex items-center gap-2 hover:gap-3 transition-all">
            â† Back
          </button>

          <div class="fade-in">
            <p class="text-xs text-teal-500 font-semibold tracking-wider uppercase mb-2">Step 1 of 3</p>
            <h2 class="text-2xl font-bold text-slate-900 mb-2">Let's set up your family</h2>
            <p class="text-sm text-slate-500 mb-8">We'll personalize the experience for everyone.</p>
          </div>

          <div class="space-y-5 slide-up delay-200">
            <div>
              <label class="block text-xs font-medium text-slate-600 mb-2">Your name</label>
              <input type="text" id="parentName" value="${familyData.parentName}" placeholder="e.g., Bobby" 
                class="w-full px-4 py-3 rounded-xl border border-slate-200 focus:border-teal-500 focus:ring-2 focus:ring-teal-500/20 outline-none transition-all text-slate-800" />
            </div>

            <div>
              <label class="block text-xs font-medium text-slate-600 mb-2">Child's name</label>
              <input type="text" id="childName" value="${familyData.childName}" placeholder="e.g., Emma" 
                class="w-full px-4 py-3 rounded-xl border border-slate-200 focus:border-teal-500 focus:ring-2 focus:ring-teal-500/20 outline-none transition-all text-slate-800" />
            </div>

            <div>
              <label class="block text-xs font-medium text-slate-600 mb-2">Child's age</label>
              <select id="childAge" class="w-full px-4 py-3 rounded-xl border border-slate-200 focus:border-teal-500 focus:ring-2 focus:ring-teal-500/20 outline-none transition-all text-slate-800 bg-white">
                <option value="">Select age</option>
                ${[...Array(13)].map((_, i) => `<option value="${i+5}" ${familyData.childAge == i+5 ? 'selected' : ''}>${i+5} years old</option>`).join('')}
              </select>
            </div>
          </div>

          <div class="mt-10 slide-up delay-300">
            <button onclick="saveOnboarding()" class="w-full bg-teal-500 hover:bg-teal-600 text-white py-4 rounded-xl font-medium shadow-lg shadow-teal-500/20 transition-all hover:shadow-xl">
              Continue to Persona Engine â†’
            </button>
          </div>

          <div class="mt-8 p-4 bg-teal-50 rounded-xl slide-up delay-400">
            <p class="text-xs text-teal-700 leading-relaxed">
              <span class="font-semibold">ğŸ”’ Privacy first:</span> Your data stays on your device. We never track, sell, or share family information.
            </p>
          </div>
        </div>
      `;
    }

    function saveOnboarding() {
      familyData.parentName = document.getElementById('parentName').value || 'Bobby';
      familyData.childName = document.getElementById('childName').value || 'Emma';
      familyData.childAge = document.getElementById('childAge').value || '12';
      navigate('persona');
    }

    // â”€â”€â”€ 3. PERSONA ENGINE SCREEN â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    const personaQuestions = [
      {
        q: "When there's a disagreement about screen time, how do you usually handle it?",
        options: ["Set firm limits", "Negotiate together", "Let them self-regulate", "Depends on the day"]
      },
      {
        q: "What matters most to you about your child's digital life?",
        options: ["Safety & protection", "Balance & wellbeing", "Learning & growth", "Connection with friends"]
      },
      {
        q: "How would you describe your parenting style?",
        options: ["Structured & consistent", "Flexible & adaptive", "Hands-off & trusting", "Collaborative & open"]
      },
      {
        q: "When your child faces a challenge, you prefer to...",
        options: ["Step in and help", "Coach from the side", "Let them figure it out", "Problem-solve together"]
      },
      {
        q: "What's your biggest concern about technology?",
        options: ["Harmful content", "Too much time", "Social comparison", "Missing real life"]
      }
    ];

    let currentQuestion = 0;

    function renderPersona(container) {
      const q = personaQuestions[currentQuestion];
      const progress = ((currentQuestion) / personaQuestions.length) * 100;

      container.innerHTML = `
        <div class="min-h-screen px-6 py-12 max-w-md mx-auto">
          <button onclick="navigate('onboarding')" class="text-teal-500 text-sm mb-6 flex items-center gap-2 hover:gap-3 transition-all">
            â† Back
          </button>

          <div class="fade-in">
            <p class="text-xs text-teal-500 font-semibold tracking-wider uppercase mb-2">Persona Engine</p>
            <h2 class="text-xl font-bold text-slate-900 mb-4">Understanding Your Family's Vibe</h2>
            
            <!-- Progress bar -->
            <div class="h-2 bg-slate-100 rounded-full mb-8 overflow-hidden">
              <div class="h-full bg-gradient-to-r from-teal-400 to-teal-500 rounded-full transition-all duration-500" style="width: ${progress}%"></div>
            </div>
          </div>

          <div class="slide-up delay-200">
            <p class="text-sm text-slate-400 mb-2">Question ${currentQuestion + 1} of ${personaQuestions.length}</p>
            <p class="text-lg font-medium text-slate-800 mb-6">${q.q}</p>

            <div class="space-y-3">
              ${q.options.map((opt, i) => `
                <button onclick="selectPersonaAnswer(${i})" 
                  class="w-full text-left px-4 py-4 rounded-xl border-2 border-slate-200 hover:border-teal-500 hover:bg-teal-50 transition-all text-slate-700 ${personaAnswers[currentQuestion] === i ? 'border-teal-500 bg-teal-50' : ''}">
                  <span class="inline-flex items-center justify-center w-6 h-6 rounded-full bg-slate-100 text-xs font-medium mr-3 ${personaAnswers[currentQuestion] === i ? 'bg-teal-500 text-white' : ''}">${String.fromCharCode(65+i)}</span>
                  ${opt}
                </button>
              `).join('')}
            </div>
          </div>

          <div class="mt-8 flex gap-3">
            ${currentQuestion > 0 ? `<button onclick="prevQuestion()" class="px-6 py-3 rounded-xl border border-slate-200 text-slate-600 hover:bg-slate-50 transition-all">Previous</button>` : ''}
            <button onclick="nextQuestion()" class="flex-1 bg-teal-500 hover:bg-teal-600 text-white py-3 rounded-xl font-medium shadow-lg shadow-teal-500/20 transition-all hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed" ${personaAnswers[currentQuestion] === undefined ? 'disabled' : ''}>
              ${currentQuestion === personaQuestions.length - 1 ? 'See My Dashboard â†’' : 'Next Question'}
            </button>
          </div>
        </div>
      `;
    }

    function selectPersonaAnswer(index) {
      personaAnswers[currentQuestion] = index;
      render();
    }

    function nextQuestion() {
      if (currentQuestion < personaQuestions.length - 1) {
        currentQuestion++;
        render();
      } else {
        navigate('dashboard');
      }
    }

    function prevQuestion() {
      if (currentQuestion > 0) {
        currentQuestion--;
        render();
      }
    }

    // â”€â”€â”€ 4. DASHBOARD SCREEN â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    function renderDashboard(container) {
      const parentName = familyData.parentName || 'Bobby';
      const childName = familyData.childName || 'Emma';

      const vibeSignals = [
        { label: 'Screen Balance', detail: `${childName} is 15 min under daily goal`, status: 'good', icon: 'ğŸ“±' },
        { label: 'Sleep Schedule', detail: 'Devices off by 9pm last 5 days', status: 'good', icon: 'ğŸ˜´' },
        { label: 'Homework Mode', detail: 'Focus blocks completed today', status: 'good', icon: 'ğŸ“š' },
        { label: 'Social Activity', detail: 'Instagram usage up 40% this week', status: 'attention', icon: 'ğŸ’¬' }
      ];

      container.innerHTML = `
        <div class="min-h-screen bg-gradient-to-b from-teal-500 to-teal-600 text-white">
          <!-- Header -->
          <div class="px-6 pt-12 pb-6 fade-in">
            <div class="flex items-center justify-between mb-6">
              <div>
                <p class="text-teal-100 text-sm">Good afternoon,</p>
                <h1 class="text-2xl font-bold">${parentName}</h1>
              </div>
              <div class="w-10 h-10 rounded-full bg-white/20 flex items-center justify-center">
                <span class="text-lg">ğŸ‘¤</span>
              </div>
            </div>

            <!-- Family Vibe Card -->
            <div class="bg-white/10 backdrop-blur rounded-2xl p-5">
              <div class="flex items-center justify-between mb-4">
                <span class="text-sm text-teal-100">Family Vibe Today</span>
                <span class="text-xs bg-green-400/20 text-green-100 px-2 py-1 rounded-full">Balanced âœ“</span>
              </div>
              <div class="flex items-end gap-1 h-12">
                ${[65, 72, 58, 80, 75, 82, 78].map((h, i) => `
                  <div class="flex-1 bg-white/30 rounded-t transition-all hover:bg-white/50" style="height: ${h}%"></div>
                `).join('')}
              </div>
              <div class="flex justify-between mt-2 text-[10px] text-teal-200">
                <span>Mon</span><span>Tue</span><span>Wed</span><span>Thu</span><span>Fri</span><span>Sat</span><span>Sun</span>
              </div>
            </div>
          </div>

          <!-- Content area -->
          <div class="bg-white text-slate-800 rounded-t-3xl min-h-[60vh] px-6 py-8 slide-up delay-200">
            <h2 class="text-lg font-bold mb-4">${childName}'s Vibe Signals</h2>
            
            <div class="space-y-3 mb-8">
              ${vibeSignals.map(s => `
                <div class="flex items-center gap-4 p-4 rounded-xl ${s.status === 'good' ? 'bg-green-50' : s.status === 'attention' ? 'bg-amber-50' : 'bg-slate-50'}">
                  <span class="text-2xl">${s.icon}</span>
                  <div class="flex-1">
                    <p class="text-sm font-semibold text-slate-800">${s.label}</p>
                    <p class="text-xs text-slate-500">${s.detail}</p>
                  </div>
                  <div class="w-3 h-3 rounded-full ${s.status === 'good' ? 'bg-green-500' : s.status === 'attention' ? 'bg-amber-500 animate-pulse' : 'bg-slate-300'}"></div>
                </div>
              `).join('')}
            </div>

            <!-- Action buttons -->
            <div class="grid grid-cols-2 gap-3">
              <button onclick="navigate('coach')" class="bg-teal-500 hover:bg-teal-600 text-white rounded-xl py-5 flex flex-col items-center gap-2 shadow-lg shadow-teal-500/15 transition-all hover:shadow-xl">
                <span class="text-2xl">ğŸ’¬</span>
                <span class="text-sm font-semibold">Talk to Coach</span>
                <span class="text-[10px] text-white/60">Get guidance</span>
              </button>
              <button onclick="navigate('agreement')" class="border-2 border-teal-500/20 text-teal-600 hover:bg-teal-50 rounded-xl py-5 flex flex-col items-center gap-2 transition-all">
                <span class="text-2xl">ğŸ¤</span>
                <span class="text-sm font-semibold">Family Agreement</span>
                <span class="text-[10px] text-slate-400">Shared rules</span>
              </button>
            </div>
          </div>
        </div>

        <!-- Nav dots -->
        <div class="fixed bottom-4 left-0 right-0 flex justify-center gap-2">
          ${screens.slice(1).map((s, i) => `
            <button onclick="navigate('${s}')" class="w-2 h-2 rounded-full transition-all ${currentScreen === s ? 'bg-teal-500 w-6' : 'bg-slate-300 hover:bg-slate-400'}"></button>
          `).join('')}
        </div>
      `;
    }

    // â”€â”€â”€ 5. AI COACH SCREEN â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    const coachResponses = [
      "That's a great instinct. Rather than restricting access, what if we explored *why* this session is longer? Teens often increase social media use when something social is happening â€” a friend group chat, planning, or even processing emotions.",
      "Exactly. The MyChoice approach is to open a conversation, not impose a rule. You could try: \"Hey, noticed you've been scrolling a while â€” everything okay?\" It shows care without surveillance.",
      "You're doing great. Remember, the goal isn't zero screen time â€” it's intentional screen time. Her homework blocks are done and sleep schedule is on track. This might just be downtime.",
      "That's the mentorship mindset in action! Small, curious conversations build trust over time. Would you like me to suggest some other conversation starters for common situations?"
    ];

    function renderCoach(container) {
      const childName = familyData.childName || 'Emma';
      
      if (chatMessages.length === 0) {
        chatMessages = [
          { from: 'coach', text: `Hi! I noticed ${childName}'s been on Instagram a bit longer than usual today. Before we react, let's think about this together. Would you like to explore what might be going on?` }
        ];
      }

      container.innerHTML = `
        <div class="min-h-screen flex flex-col bg-slate-50">
          <!-- Header -->
          <div class="bg-white border-b border-slate-100 px-6 py-4 flex items-center gap-4">
            <button onclick="navigate('dashboard')" class="text-teal-500">
              <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"/></svg>
            </button>
            <div class="w-10 h-10 rounded-full bg-gradient-to-br from-teal-400 to-teal-500 flex items-center justify-center">
              <span class="text-white text-lg">ğŸ§ </span>
            </div>
            <div>
              <p class="font-semibold text-slate-800">MyChoice Coach</p>
              <p class="text-xs text-green-500">â— Online</p>
            </div>
          </div>

          <!-- Chat area -->
          <div class="flex-1 overflow-y-auto px-4 py-6 space-y-4" id="chatArea">
            ${chatMessages.map(m => `
              <div class="flex ${m.from === 'user' ? 'justify-end' : 'justify-start'}">
                <div class="max-w-[80%] px-4 py-3 rounded-2xl ${m.from === 'user' ? 'bg-teal-500 text-white rounded-br-md' : 'bg-white text-slate-700 shadow-sm rounded-bl-md'}">
                  <p class="text-sm leading-relaxed">${m.text}</p>
                </div>
              </div>
            `).join('')}
          </div>

          <!-- Quick replies -->
          <div class="px-4 py-3 flex gap-2 overflow-x-auto bg-white border-t border-slate-100">
            <button onclick="sendQuickReply('What should I say to her?')" class="whitespace-nowrap px-4 py-2 rounded-full border border-slate-200 text-sm text-slate-600 hover:bg-slate-50 transition-all">What should I say?</button>
            <button onclick="sendQuickReply('Should I be worried?')" class="whitespace-nowrap px-4 py-2 rounded-full border border-slate-200 text-sm text-slate-600 hover:bg-slate-50 transition-all">Should I worry?</button>
            <button onclick="sendQuickReply('How do I start the conversation?')" class="whitespace-nowrap px-4 py-2 rounded-full border border-slate-200 text-sm text-slate-600 hover:bg-slate-50 transition-all">Start conversation</button>
          </div>

          <!-- Input -->
          <div class="px-4 py-4 bg-white border-t border-slate-100">
            <div class="flex gap-3">
              <input type="text" id="chatInput" placeholder="Ask your coach..." class="flex-1 px-4 py-3 rounded-full border border-slate-200 focus:border-teal-500 focus:ring-2 focus:ring-teal-500/20 outline-none text-sm" onkeypress="if(event.key==='Enter')sendMessage()" />
              <button onclick="sendMessage()" class="w-12 h-12 rounded-full bg-teal-500 hover:bg-teal-600 text-white flex items-center justify-center shadow-lg shadow-teal-500/20 transition-all">
                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 19l9 2-9-18-9 18 9-2zm0 0v-8"/></svg>
              </button>
            </div>
          </div>
        </div>
      `;

      // Scroll to bottom
      setTimeout(() => {
        const chatArea = document.getElementById('chatArea');
        chatArea.scrollTop = chatArea.scrollHeight;
      }, 100);
    }

    function sendQuickReply(text) {
      chatMessages.push({ from: 'user', text });
      render();
      setTimeout(() => {
        const responseIndex = Math.min(chatMessages.filter(m => m.from === 'coach').length, coachResponses.length - 1);
        chatMessages.push({ from: 'coach', text: coachResponses[responseIndex] });
        render();
      }, 1000);
    }

    function sendMessage() {
      const input = document.getElementById('chatInput');
      const text = input.value.trim();
      if (!text) return;
      
      chatMessages.push({ from: 'user', text });
      input.value = '';
      render();
      
      setTimeout(() => {
        const responseIndex = Math.min(chatMessages.filter(m => m.from === 'coach').length, coachResponses.length - 1);
        chatMessages.push({ from: 'coach', text: coachResponses[responseIndex] });
        render();
      }, 1200);
    }

    // â”€â”€â”€ 6. FAMILY AGREEMENT SCREEN â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    const defaultAgreements = [
      { text: 'Devices charge outside bedrooms at night', status: 'agreed', emoji: 'ğŸ”Œ' },
      { text: 'Homework mode before free screen time', status: 'agreed', emoji: 'ğŸ“š' },
      { text: 'Family dinner = phone-free zone', status: 'agreed', emoji: 'ğŸ½ï¸' },
      { text: 'Talk before downloading new apps', status: 'pending', emoji: 'ğŸ“±' },
      { text: 'Weekly screen time check-in together', status: 'pending', emoji: 'ğŸ“Š' }
    ];

    function renderAgreement(container) {
      const childName = familyData.childName || 'Emma';
      const parentName = familyData.parentName || 'Bobby';
      
      if (agreementItems.length === 0) {
        agreementItems = [...defaultAgreements];
      }

      container.innerHTML = `
        <div class="min-h-screen bg-slate-50 px-6 py-8">
          <button onclick="navigate('dashboard')" class="text-teal-500 text-sm mb-6 flex items-center gap-2 hover:gap-3 transition-all">
            â† Back to Dashboard
          </button>

          <div class="fade-in">
            <div class="flex items-center gap-3 mb-2">
              <span class="text-3xl">ğŸ¤</span>
              <h1 class="text-2xl font-bold text-slate-900">Family Agreement</h1>
            </div>
            <p class="text-sm text-slate-500 mb-6">Rules we've decided on together â€” ${parentName} & ${childName}</p>
          </div>

          <!-- Agreement items -->
          <div class="space-y-3 mb-8 slide-up delay-200">
            ${agreementItems.map((item, i) => `
              <div class="bg-white rounded-xl p-4 shadow-sm flex items-center gap-4">
                <span class="text-2xl">${item.emoji}</span>
                <p class="flex-1 text-sm text-slate-700">${item.text}</p>
                <button onclick="toggleAgreement(${i})" class="px-3 py-1.5 rounded-full text-xs font-medium transition-all ${
                  item.status === 'agreed' 
                    ? 'bg-green-100 text-green-700' 
                    : 'bg-amber-100 text-amber-700'
                }">
                  ${item.status === 'agreed' ? 'âœ“ Agreed' : 'â³ Pending'}
                </button>
              </div>
            `).join('')}
          </div>

          <!-- Add new -->
          <div class="bg-white rounded-xl p-4 shadow-sm slide-up delay-300">
            <p class="text-xs text-slate-400 mb-3">Add a new agreement</p>
            <div class="flex gap-2">
              <input type="text" id="newAgreement" placeholder="e.g., No phones during car rides" class="flex-1 px-4 py-3 rounded-xl border border-slate-200 focus:border-teal-500 focus:ring-2 focus:ring-teal-500/20 outline-none text-sm" />
              <button onclick="addAgreement()" class="px-4 py-3 bg-teal-500 hover:bg-teal-600 text-white rounded-xl font-medium transition-all">
                Add
              </button>
            </div>
          </div>

          <!-- Collaborative note -->
          <div class="mt-8 p-4 bg-teal-50 rounded-xl slide-up delay-400">
            <p class="text-xs text-teal-700 leading-relaxed">
              <span class="font-semibold">ğŸ’¡ Tip:</span> The best agreements are created together. Sit down with ${childName} and discuss what feels fair for everyone. Agreements work better than rules imposed from above.
            </p>
          </div>
        </div>

        <!-- Nav dots -->
        <div class="fixed bottom-4 left-0 right-0 flex justify-center gap-2">
          ${screens.slice(1).map((s, i) => `
            <button onclick="navigate('${s}')" class="w-2 h-2 rounded-full transition-all ${currentScreen === s ? 'bg-teal-500 w-6' : 'bg-slate-300 hover:bg-slate-400'}"></button>
          `).join('')}
        </div>
      `;
    }

    function toggleAgreement(index) {
      agreementItems[index].status = agreementItems[index].status === 'agreed' ? 'pending' : 'agreed';
      render();
    }

    function addAgreement() {
      const input = document.getElementById('newAgreement');
      const text = input.value.trim();
      if (!text) return;
      
      agreementItems.push({ text, status: 'pending', emoji: 'âœ¨' });
      input.value = '';
      render();
    }

    // â”€â”€â”€ INITIALIZE â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    render();
  </script>
</body>
</html>
